TODOs

1. make each consumer an api
2. make broker an api